{% extends "base.html" %}

{% block content %}
<h2>Đổi mật khẩu</h2>

<p>
    <button type="button" onclick="history.back();">← Quay lại</button>
</p>

{% if messages %}
<style>
    .success-message { color: green; }
    .error-message { color: red; }
</style>
<ul>
    {% for message in messages %}
        <li class="{% if message.tags == 'success' %}success-message{% else %}error-message{% endif %}">
            {{ message }}
        </li>
    {% endfor %}
</ul>
{% endif %}

<form method="POST">
    {% csrf_token %}

    {% for field in form %}
        <p>
            {{ field.label_tag }}<br>
            {{ field }}
            {% if field.errors %}
                <span style="color:red">{{ field.errors|striptags }}</span>
            {% endif %}
        </p>
    {% endfor %}

    <button type="submit">Đổi mật khẩu</button>
</form>

<p><a href="{% url 'library:profile' %}">Quay lại hồ sơ</a></p>
{% endblock %}

<p>
    <button type="button" onclick="history.back();">← Quay lại</button>
</p>
